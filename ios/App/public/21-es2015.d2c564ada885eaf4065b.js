(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{X3zk:function(n,o,t){"use strict";t.r(o),t.d(o,"LoginPageModule",(function(){return L}));var e=t("SVse"),i=t("s7LF"),r=t("sZkV"),s=t("iInd"),c=t("mrSG"),b=t("8Y7J"),l=t("7LIg"),g=t("CcaC");function a(n,o){1&n&&(b.Lb(0,"div",28),b.Lb(1,"small",29),b.lc(2,"phone number or email is required"),b.Kb(),b.Kb())}function d(n,o){1&n&&(b.Lb(0,"div",28),b.Lb(1,"small",29),b.lc(2,"password is required"),b.Kb(),b.Kb())}function u(n,o){1&n&&(b.Lb(0,"div"),b.Jb(1,"ion-progress-bar",30),b.Kb())}function m(n,o){1&n&&(b.Lb(0,"div",31),b.Lb(1,"div",32),b.Jb(2,"div",33),b.Kb(),b.Kb())}function p(n,o){1&n&&(b.Lb(0,"div",31),b.Lb(1,"div",32),b.Lb(2,"div",33),b.Jb(3,"div"),b.Jb(4,"div"),b.Jb(5,"div"),b.Jb(6,"div"),b.Jb(7,"div"),b.Jb(8,"div"),b.Jb(9,"div"),b.Jb(10,"div"),b.Kb(),b.Kb(),b.Kb())}const f=function(){return["/forgetpassword"]},h=[{path:"",component:(()=>{class n{constructor(n,o,t,e,i,r,s){this.loadingController=n,this.fb=o,this.alertController=t,this.toastController=e,this.gameService=i,this.router=r,this.userService=s,this.phoneRegex=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,this.model={number:"",password:""}}ngOnInit(){this.loading=!1}presentFailNetwork(){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"No internet connection!!!",duration:2e3})).present()}))}login(n){return Object(c.a)(this,void 0,void 0,(function*(){console.log("login fire"),this.loading=!0,this.userService.login(this.model).subscribe(n=>{this.userService.setToken(n.token),this.userService.loadBalance(),this.loading=!1,this.router.navigate(["/tabs/gamesection"])},n=>{this.loading=!1,this.gameService.presentToast(n.error.message),console.log("LOGIN ERROR",n.error.message)})}))}register(){this.router.navigate(["/register"])}presentAlertConfirm(n){return Object(c.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Ooops!",message:` <strong class="text-danger"> ${n}</strong>`,buttons:[{text:"Try again",handler:()=>{console.log("Confirm Okay")}}]});yield o.present()}))}}return n.\u0275fac=function(o){return new(o||n)(b.Ib(r.fb),b.Ib(i.b),b.Ib(r.a),b.Ib(r.pb),b.Ib(l.a),b.Ib(s.g),b.Ib(g.a))},n.\u0275cmp=b.Cb({type:n,selectors:[["app-login"]],decls:47,vars:10,consts:[["size","12"],[1,"ion-padding","logo"],["src","assets/img/ISABI LOGO GREEN.png","alt","isabi logo","title","isabi logo"],["size-xs","10","offset-xs","1","size-sm","8","offset-sm","2","size-md","6","offset-md","3","size-lg","4","offset-lg","4"],["name","form",1,"form",3,"submit"],["loginForm","ngForm"],[1,"utility"],[1,"text-input"],["autofocus","","type","text","placeholder","Email or Phone","name","number","clearInput","","autocomplete","off","minlength","11","required","true",1,"pl-4","pr-2",3,"ngModel","ngModelChange"],["emailUser","ngModel"],["name","person-outline",1,"mr-2"],["class","text-center",4,"ngIf"],["type","password","input","","placeholder","Password","name","password","minlength","6","clearInput","","required","true",1,"pl-4","pr-2",3,"ngModel","ngModelChange"],["password","ngModel"],["name","lock-closed-outline",1,"mr-2"],[1,"ion-float-right","forgot-password",3,"routerLink"],["shape","round","expand","block","type","submit",1,"login",3,"disabled","submit"],[4,"ngIf"],["size","12",1,"sign-up"],[1,"text-dark"],[1,"font-weight-bold","text-dark",3,"click"],[1,"ion-text-center","mt-5"],["size-xs","6","offset-xs","3","size-sm","6","offset-sm","3","size-md","3","offset-md","4.5","size-lg","2","offset-lg","5",1,"social-icons"],["src","/assets/img/Facebook_Logo.png","alt","facebook logo"],["src","assets/img/google-plus-logo.png","alt","google plus logo"],["src","assets/img/twitter--logo.png","alt","twitter logo"],["class","",4,"ngIf"],["class"," ",4,"ngIf"],[1,"text-center"],[1,"text-danger"],["type","indeterminate"],[1,""],[1,"toast-container"],[1,"lds-roller"]],template:function(n,o){if(1&n){const n=b.Mb();b.Lb(0,"ion-content"),b.Lb(1,"ion-grid"),b.Lb(2,"ion-row"),b.Lb(3,"ion-col",0),b.Lb(4,"section",1),b.Jb(5,"img",2),b.Kb(),b.Kb(),b.Kb(),b.Lb(6,"ion-row"),b.Lb(7,"ion-col",3),b.Lb(8,"form",4,5),b.Tb("submit",(function(){b.gc(n);const t=b.fc(9);return o.login(t)})),b.Lb(10,"div",6),b.Lb(11,"div",7),b.Lb(12,"ion-input",8,9),b.Tb("ngModelChange",(function(n){return o.model.number=n})),b.Jb(14,"ion-icon",10),b.Kb(),b.Kb(),b.kc(15,a,3,0,"div",11),b.Kb(),b.Lb(16,"div",6),b.Lb(17,"div",7),b.Lb(18,"ion-input",12,13),b.Tb("ngModelChange",(function(n){return o.model.password=n})),b.Jb(20,"ion-icon",14),b.Kb(),b.Kb(),b.kc(21,d,3,0,"div",11),b.Kb(),b.Lb(22,"a",15),b.lc(23,"Forgot password? "),b.Kb(),b.Lb(24,"ion-button",16),b.Tb("submit",(function(){b.gc(n);const t=b.fc(9);return o.login(t)})),b.lc(25,"Login"),b.Kb(),b.kc(26,u,2,0,"div",17),b.Kb(),b.Lb(27,"ion-row"),b.Lb(28,"ion-col",18),b.Lb(29,"p",19),b.lc(30,"Don't have account? "),b.Lb(31,"ion-label",20),b.Tb("click",(function(){return o.register()})),b.lc(32,"Sign up "),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Lb(33,"ion-row"),b.Lb(34,"ion-col",21),b.Lb(35,"ion-label"),b.lc(36,"Sign in with"),b.Kb(),b.Lb(37,"ion-row"),b.Lb(38,"ion-col",22),b.Lb(39,"div"),b.Jb(40,"img",23),b.Kb(),b.Lb(41,"div"),b.Jb(42,"img",24),b.Kb(),b.Lb(43,"div"),b.Jb(44,"img",25),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.kc(45,m,3,0,"div",26),b.kc(46,p,11,0,"div",27),b.Kb()}if(2&n){const n=b.fc(9),t=b.fc(13),e=b.fc(19);b.yb(12),b.bc("ngModel",o.model.number),b.yb(3),b.bc("ngIf",t.dirty&&t.errors),b.yb(3),b.bc("ngModel",o.model.password),b.yb(3),b.bc("ngIf",e.dirty&&e.errors),b.yb(1),b.bc("routerLink",b.cc(9,f)),b.yb(2),b.bc("disabled",!n.valid),b.yb(2),b.bc("ngIf",o.loading),b.yb(19),b.bc("ngIf",o.loading),b.yb(1),b.bc("ngIf",o.loading)}},directives:[r.r,r.v,r.M,r.q,i.n,i.h,i.i,r.z,r.ob,i.d,i.m,i.g,i.j,r.x,e.m,s.j,r.mb,r.h,r.C,r.I],styles:["ion-content[_ngcontent-%COMP%]{--background:url(/assets/img/bg.png1);--background-repeat:no-repeat;--background-size:contain}ion-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:3rem;margin-bottom:2rem}ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{min-height:250px}ion-content[_ngcontent-%COMP%]   .utility[_ngcontent-%COMP%]{margin-bottom:1.2rem}ion-content[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{border:1px solid var(--ion-color-primary);border-radius:35px}ion-content[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:.8rem;margin-bottom:2rem}ion-content[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;margin-top:2rem}ion-content[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{cursor:pointer}ion-content[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}ion-content[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.toast-container[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;top:auto;margin-bottom:80px;left:0;right:0;bottom:0;z-index:999}"]}),n})()}];let v=(()=>{class n{}return n.\u0275mod=b.Gb({type:n}),n.\u0275inj=b.Fb({factory:function(o){return new(o||n)},imports:[[s.k.forChild(h)],s.k]}),n})(),L=(()=>{class n{}return n.\u0275mod=b.Gb({type:n}),n.\u0275inj=b.Fb({factory:function(o){return new(o||n)},imports:[[e.b,i.c,r.db,v]]}),n})()}}]);