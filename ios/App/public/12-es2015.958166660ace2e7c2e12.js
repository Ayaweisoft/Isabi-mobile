(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{WGVX:function(t,n,e){"use strict";e.r(n),e.d(n,"AdminPlayPageModule",(function(){return Q}));var i=e("SVse"),o=e("s7LF"),s=e("iInd"),r=e("sZkV"),c=e("mrSG"),l=e("8LKT"),a=e("8Y7J"),b=e("CcaC"),u=e("2fyD");const d=["info"],g=["correct"],h=["wrong"];function m(t,n){if(1&t&&(a.Lb(0,"ion-item-divider"),a.Lb(1,"ion-segment"),a.Lb(2,"div",11,12),a.Lb(4,"ion-label",13),a.lc(5),a.Kb(),a.Kb(),a.Kb(),a.Lb(6,"ion-segment"),a.Lb(7,"div",11,14),a.Lb(9,"ion-label",15),a.lc(10),a.Kb(),a.Kb(),a.Kb(),a.Kb()),2&t){const t=a.Vb();a.yb(5),a.nc(" CORRECT : ",t.correctAns,""),a.yb(5),a.nc("WRONG : ",t.wrongAns," ")}}function p(t,n){if(1&t){const t=a.Mb();a.Lb(0,"ion-card",16),a.Lb(1,"div",17),a.Lb(2,"h3",18),a.lc(3),a.Kb(),a.Kb(),a.Lb(4,"ion-card-title"),a.Lb(5,"p",19),a.lc(6),a.Kb(),a.Kb(),a.Lb(7,"ion-card-content",20),a.Lb(8,"ion-button",21),a.Tb("click",(function(){a.gc(t);const n=a.Vb();return n.checkAnswer(null==n.currentQuestion?null:n.currentQuestion.option1,null==n.currentQuestion?null:n.currentQuestion.answer)})),a.lc(9),a.Kb(),a.Lb(10,"ion-button",21),a.Tb("click",(function(){a.gc(t);const n=a.Vb();return n.checkAnswer(null==n.currentQuestion?null:n.currentQuestion.option2,null==n.currentQuestion?null:n.currentQuestion.answer)})),a.lc(11),a.Kb(),a.Lb(12,"ion-button",21),a.Tb("click",(function(){a.gc(t);const n=a.Vb();return n.checkAnswer(null==n.currentQuestion?null:n.currentQuestion.option3,n.currentQuestion.answer)})),a.lc(13),a.Kb(),a.Lb(14,"ion-button",21),a.Tb("click",(function(){a.gc(t);const n=a.Vb();return n.checkAnswer(null==n.currentQuestion?null:n.currentQuestion.option4,n.currentQuestion.answer)})),a.lc(15),a.Kb(),a.Jb(16,"br"),a.Lb(17,"ion-text",22),a.lc(18),a.Kb(),a.Jb(19,"br"),a.Lb(20,"ion-text",22),a.lc(21),a.Kb(),a.Kb(),a.Lb(22,"ion-row"),a.Lb(23,"ion-button",23),a.Tb("click",(function(){return a.gc(t),a.Vb().previousQst()})),a.lc(24,"prev"),a.Kb(),a.Lb(25,"ion-button",23),a.Tb("click",(function(){return a.gc(t),a.Vb().nextQuestion()})),a.lc(26,"next"),a.Kb(),a.Lb(27,"ion-button",24),a.Tb("click",(function(){return a.gc(t),a.Vb().cancelGame()})),a.lc(28,"Stop"),a.Kb(),a.Kb(),a.Kb()}if(2&t){const t=a.Vb();a.yb(3),a.nc(" ",t.runningQuestion+1," "),a.yb(3),a.nc("",null==t.currentQuestion?null:t.currentQuestion.question," "),a.yb(2),a.bc("disabled",t.disableClick),a.yb(1),a.nc(" ",null==t.currentQuestion?null:t.currentQuestion.option1," "),a.yb(1),a.bc("disabled",t.disableClick),a.yb(1),a.nc(" ",null==t.currentQuestion?null:t.currentQuestion.option2," "),a.yb(1),a.bc("disabled",t.disableClick),a.yb(1),a.nc(" ",null==t.currentQuestion?null:t.currentQuestion.option3," "),a.yb(1),a.bc("disabled",t.disableClick),a.yb(1),a.nc(" ",null==t.currentQuestion?null:t.currentQuestion.option4," "),a.yb(3),a.nc(" answer :",null==t.currentQuestion?null:t.currentQuestion.answer," "),a.yb(3),a.nc(" category :",null==t.currentQuestion?null:t.currentQuestion.category," ")}}function f(t,n){if(1&t){const t=a.Mb();a.Lb(0,"ion-button",30),a.Tb("click",(function(){return a.gc(t),a.Vb(2).startQuestion()})),a.lc(1," PLAY NOW !"),a.Kb()}}function v(t,n){1&t&&(a.Lb(0,"p",31),a.lc(1,"15 correct questions equal to 50k"),a.Kb())}function y(t,n){if(1&t&&(a.Lb(0,"div",25),a.kc(1,f,2,0,"ion-button",26),a.Lb(2,"div",27,28),a.kc(4,v,2,0,"p",29),a.Kb(),a.Kb()),2&t){const t=a.Vb();a.yb(1),a.bc("ngIf",!t.startGame),a.yb(3),a.bc("ngIf",!t.startGame)}}function k(t,n){1&t&&(a.Lb(0,"div",32),a.Lb(1,"div",33),a.Lb(2,"div",34),a.Jb(3,"div"),a.Jb(4,"div"),a.Jb(5,"div"),a.Jb(6,"div"),a.Jb(7,"div"),a.Jb(8,"div"),a.Jb(9,"div"),a.Jb(10,"div"),a.Kb(),a.Kb(),a.Lb(11,"p",35),a.lc(12," preparing questions"),a.Kb(),a.Kb())}const C=[{path:"",component:(()=>{class t{constructor(t,n,e,i,o){this.alertController=t,this.popoverController=n,this.router=e,this.userService=i,this.accountService=o,this.startGame=!1,this.correcQuestion=0,this.wrongQuestion=0,this.timeMinute=0,this.timeSeconds=0,this.loadingGame=!1,this.correctAns=0,this.wrongAns=0,this.disableClick=!1,this.low_balance=!1,this.GameTimeMinute=0,this.GameTimeSeconds=0}ngOnInit(){this.getQuestionForGame(),this.runningQuestion=0,setTimeout(()=>{this.info.nativeElement.classList.remove("infinite")},8e3)}presentNavigation(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.popoverController.create({component:l.a,translucent:!0});return yield t.present()}))}getQuestionForGame(){this.loadingGame=!0,this.userService.getAllLiveQuestions().subscribe(t=>{this.gameQuestions=t.questions,this.lastQuestion=this.gameQuestions.length-1,this.loadingGame=!1},t=>{console.log(t)})}gameisOver(){this.GameTimeMinute=this.timeMinute,this.GameTimeSeconds=this.timeSeconds,this.gameOver=!0,this.startGame=!1,this.presentResult(4-this.timeMinute,60-this.timeSeconds,this.correctAns)}checkAnswer(t,n){this.disableClick=!0,t==n?(this.correct.nativeElement.classList.add("heartBeat"),this.correctAns=this.correctAns+1):(this.wrongAns=this.wrongAns+1,this.wrong.nativeElement.classList.add("wobble")),setTimeout(()=>{this.nextQuestion()},1e3)}startQuestion(){this.loadingGame=!0,this.startGame=!0,this.currentQuestion=this.gameQuestions[this.runningQuestion],this.startTimer(),this.loadingGame=!1}renderQuestion(){this.startGame=!0,this.disableClick=!1,this.currentQuestion=this.gameQuestions[this.runningQuestion]}nextQuestion(){this.wrong.nativeElement.classList.remove("wobble"),this.correct.nativeElement.classList.remove("heartBeat"),this.runningQuestion<this.lastQuestion?(this.runningQuestion++,this.renderQuestion()):(this.startGame=!1,this.gameOver=!0)}previousQst(){this.runningQuestion--,this.renderQuestion()}renderProgress(){for(let t=0;t<=this.lastQuestion;t++)this.progress=t}startTimer(){let t=15e3;if(t>0){const n=setInterval(()=>{t--,(0==t||this.gameOver)&&(clearInterval(n),this.gameisOver(),t=0);let e=t;const i=Math.floor(e/60);e-=60*i,this.timeMinute=i,this.timeSeconds=e,this.gameOver?(console.log("time is stoped"),clearInterval(n)):console.warn("not yet time...")},1e3)}}presentResult(t,n,e){return Object(c.a)(this,void 0,void 0,(function*(){const i=yield this.alertController.create({header:" GAME RESULT",message:`<h1>Score  ${e}/ ${this.gameQuestions.length}</h1>  <br>\n                <h6 class="text-success">Elapsed ${t} min , ${n} secs`,buttons:[{text:"OK",cssClass:"success",handler:t=>{console.log("ok")}}]});yield i.present()}))}cancelGame(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"EXIT GAME",buttons:[{text:"Cancel",role:"cancel",cssClass:"danger",handler:t=>{console.log("cancel amount input")}},{text:"Confirm",cssClass:"success",handler:t=>{this.gameisOver()}}]});yield t.present()}))}}return t.\u0275fac=function(n){return new(n||t)(a.Ib(r.a),a.Ib(r.lb),a.Ib(s.g),a.Ib(b.a),a.Ib(u.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-admin-play"]],viewQuery:function(t,n){var e;1&t&&(a.pc(d,!0),a.pc(g,!0),a.pc(h,!0)),2&t&&(a.ec(e=a.Ub())&&(n.info=e.first),a.ec(e=a.Ub())&&(n.correct=e.first),a.ec(e=a.Ub())&&(n.wrong=e.first))},decls:17,vars:6,consts:[["src","../../assets/icon/Logoicon.png",1,"rounded-top"],["vertical","bottom","horizontal","center","slot","fixed"],["type","block","size","large",3,"click"],[1,"content"],["vertical","top","horizontal","end","slot","fixed"],["color","success"],[1,"mt-2","p-3","font-weight-bold"],[4,"ngIf"],["class","m-0 play-area","style","width: 100%;",4,"ngIf"],["style","padding-top: 40%;",4,"ngIf"],["class"," ",4,"ngIf"],[1,"animated"],["correct",""],[1,"font-weight-bold","text-success"],["wrong",""],[1,"animated","font-weight-bold","text-danger"],[1,"m-0","play-area",2,"width","100%"],[1,"justify-content-right","d-flex","ml-2"],["id","count",1,"font-weight-bold"],[1,"m-4","text-white"],[1,"text-left","mb-5"],["color","success","expand","full",1,"option","mb-3",3,"disabled","click"],[1,"text-white","text-center"],["size","small",3,"click"],["size","small","color","danger",3,"click"],[2,"padding-top","40%"],["expand","block","size","large","color","success",3,"click",4,"ngIf"],[1,"text-center","p-2","mt-5","animated","infinite","shake"],["info",""],["class","info",4,"ngIf"],["expand","block","size","large","color","success",3,"click"],[1,"info"],[1,""],[1,"toast-container"],[1,"lds-roller"],[1,"bg-dark","text-white","text-center"]],template:function(t,n){1&t&&(a.Lb(0,"ion-header"),a.Lb(1,"ion-toolbar"),a.Jb(2,"ion-img",0),a.Kb(),a.Kb(),a.Lb(3,"ion-content"),a.Lb(4,"ion-fab",1),a.Lb(5,"ion-button",2),a.Tb("click",(function(){return n.presentNavigation()})),a.lc(6,"Navigation"),a.Kb(),a.Kb(),a.Lb(7,"div",3),a.Lb(8,"ion-fab",4),a.Lb(9,"ion-fab-button",5),a.Lb(10,"ion-row"),a.Lb(11,"h5",6),a.lc(12),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.kc(13,m,11,2,"ion-item-divider",7),a.kc(14,p,29,12,"ion-card",8),a.kc(15,y,5,2,"div",9),a.kc(16,k,13,0,"div",10),a.Kb(),a.Kb()),2&t&&(a.yb(12),a.oc("",n.timeMinute," : ",n.timeSeconds," "),a.yb(1),a.bc("ngIf",n.startGame),a.yb(1),a.bc("ngIf",n.startGame),a.yb(1),a.bc("ngIf",!n.loadingGame),a.yb(1),a.bc("ngIf",n.loadingGame))},directives:[r.w,r.cb,r.y,r.r,r.s,r.h,r.t,r.M,i.m,r.B,r.O,r.nb,r.C,r.j,r.n,r.k,r.Y],styles:['.content[_ngcontent-%COMP%]{background-image:url(app-bg.70eebd0dc47d28b6903e.png);background-position:50%;background-size:cover;background-repeat:no-repeat}.nominated[_ngcontent-%COMP%]{background-image:linear-gradient(red,#ff0,green)}.image_icon[_ngcontent-%COMP%]{width:100px;height:100px;display:flex}.play-record[_ngcontent-%COMP%]{background-color:#edeebb;color:#056836}.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:64px;height:64px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:32px 32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:6px;height:6px;border-radius:50%;background:#0c6d14;margin:-3px 0 0 -3px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-36ms;animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child:after{top:50px;left:50px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-72ms;animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:54px;left:45px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.108s;animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:57px;left:39px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.144s;animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:58px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.18s;animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:57px;left:25px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.216s;animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:54px;left:19px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.252s;animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:50px;left:14px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.288s;animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:45px;left:10px}@-webkit-keyframes lds-roller{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-roller{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.toast-container[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;top:auto;margin-bottom:80px;left:0;right:0;bottom:0;z-index:999}']}),t})()}];let Q=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(n){return new(n||t)},imports:[[i.b,o.c,r.db,s.k.forChild(C)]]}),t})()}}]);