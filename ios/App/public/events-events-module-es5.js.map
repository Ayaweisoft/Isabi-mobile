{"version":3,"sources":["webpack:///src/app/events/events.page.html","webpack:///src/app/events/events.module.ts","webpack:///src/app/events/events.page.scss","webpack:///src/app/events/events.page.ts"],"names":["routes","path","component","EventsPageModule","imports","forChild","declarations","EventsPage","router","gameService","eventService","userService","accountService","logicService","alertController","allEvent","loading","webLink","webVotingUrl","getAllevent","getAllEvent","subscribe","res","console","log","err","longToast","error","msg","inputElement","select","document","execCommand","setSelectionRange","presentToast","event","type","navigate","_id","create","header","message","aboutEvent","buttons","text","role","cssClass","handler","deleteEvent","generalToast","generalAlert","alert","present","selector","template"],"mappings":"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","file":"events-events-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <div class=\\\"row d-flex justify-content-center\\\">\\n      <img class=\\\"rounded-top\\\" src=\\\"assets/img/ISABI LOGO GREEN.png\\\">\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"8\\\" offset-md=\\\"2\\\" size-lg=\\\"6\\\" offset-lg=\\\"3\\\">\\n        <ion-card color=\\\"light\\\" *ngFor=\\\"let item of allEvent\\\">\\n          <img [src]=\\\"item.image_url\\\">\\n\\n          <div class=\\\"ion-text-center\\\">\\n            <ion-title mode=\\\"md\\\" class=\\\"text-uppercase font-weight-bold\\\">{{item.eventName}}</ion-title>\\n            <ion-text>{{item.aboutEvent}} </ion-text>\\n\\n            <small>{{item.type}} </small>\\n\\n            <ion-icon *ngIf=\\\"userService.getRole() == 'ADMIN'\\\" (click)=\\\"handleDelete(item)\\\" name=\\\"trash\\\">\\n            </ion-icon>\\n          </div>\\n\\n          <div class=\\\"row d-flex justify-content-center\\\">\\n            <ion-button (click)=\\\"insideEvent(item)\\\">ENTER\\n            </ion-button>\\n          </div>\\n          <div *ngIf=\\\"userService.getRole() == 'ADMIN'\\\" class=\\\"ion-text-center\\\">\\n            <input readonly type=\\\"text\\\" [value]=\\\"webLink +'/'+'web-event-ticket/'+ item._id \\\" #userinput size=\\\"35\\\">\\n            <ion-button color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"copyInputMessage(userinput)\\\" value=\\\"click to copy\\\">Copy\\n            </ion-button>\\n\\n          </div>\\n        </ion-card>\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <!-- loader -->\\n  <div *ngIf=\\\"loading\\\" class=\\\" \\\">\\n    <div class=\\\"toast-container \\\">\\n      <div class=\\\"lds-roller\\\">\\n        <div></div>\\n        <div></div>\\n        <div></div>\\n        <div></div>\\n        <div></div>\\n        <div></div>\\n        <div></div>\\n        <div></div>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventsPage } from './events.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [EventsPage]\n})\nexport class EventsPageModule {}\n","export default \"ion-header img {\\n  width: 70px;\\n  height: 30px;\\n  padding: 5px 0;\\n}\\n\\nion-card img {\\n  height: 90%;\\n  width: 100%;\\n  -o-object-fit: fill;\\n     object-fit: fill;\\n}\\n\\nion-card ion-title {\\n  font-size: 0.8rem;\\n  margin-top: 8px;\\n}\\n\\nion-card ion-icon {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  padding: 10px;\\n  border-radius: 50%;\\n  color: red;\\n}\\n\\nion-card .row ion-button {\\n  border-radius: 10px;\\n  margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZXZlbnRzL2V2ZW50cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0M7RUFDQyxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUFBRjs7QUFLQztFQUNDLFdBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7S0FBQSxnQkFBQTtBQUZGOztBQUtDO0VBQ0MsaUJBQUE7RUFDQSxlQUFBO0FBSEY7O0FBTUM7RUFDQyxrQkFBQTtFQUNBLE1BQUE7RUFDQSxRQUFBO0VBQ0Esb0NBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FBSkY7O0FBT0M7RUFDQyxtQkFBQTtFQUNBLG1CQUFBO0FBTEYiLCJmaWxlIjoic3JjL2FwcC9ldmVudHMvZXZlbnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXIge1xuXHRpbWcge1xuXHRcdHdpZHRoOiA3MHB4O1xuXHRcdGhlaWdodDogMzBweDtcblx0XHRwYWRkaW5nOiA1cHggMDtcblx0fVxufVxuXG5pb24tY2FyZCB7XG5cdGltZyB7XG5cdFx0aGVpZ2h0OiA5MCU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0b2JqZWN0LWZpdDogZmlsbDtcblx0fVxuXG5cdGlvbi10aXRsZSB7XG5cdFx0Zm9udC1zaXplOiAwLjhyZW07XG5cdFx0bWFyZ2luLXRvcDogOHB4O1xuXHR9XG5cblx0aW9uLWljb24ge1xuXHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHR0b3A6IDA7XG5cdFx0cmlnaHQ6IDA7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogcmdiYSgkY29sb3I6ICMwMDAwMDAsICRhbHBoYTogMC43KTtcblx0XHRwYWRkaW5nOiAxMHB4O1xuXHRcdGJvcmRlci1yYWRpdXM6IDUwJTtcblx0XHRjb2xvcjogcmVkO1xuXHR9XG5cblx0LnJvdyBpb24tYnV0dG9uIHtcblx0XHRib3JkZXItcmFkaXVzOiAxMHB4O1xuXHRcdG1hcmdpbi1ib3R0b206IDEwcHg7XG5cdH1cbn1cbiJdfQ== */\";","import { AlertController } from '@ionic/angular';\nimport { EventService } from './../shared/event.service';\nimport { GameServiceService } from './../shared/game-service.service';\nimport { UserService } from './../shared/user.service';\nimport { Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { AccountService } from '../shared/account.service';\nimport { environment } from 'src/environments/environment';\nimport { LogicService } from '../services/logic.service';\n\n@Component({\n  selector: 'app-events',\n  templateUrl: './events.page.html',\n  styleUrls: ['./events.page.scss'],\n})\nexport class EventsPage implements OnInit {\nallEvent = [];\nloading = true;\nwebLink = environment.webVotingUrl;\n  constructor(private router: Router, private gameService: GameServiceService, \n              private eventService: EventService, public  userService: UserService,\n              private accountService: AccountService,\n              private logicService: LogicService,\n              public alertController: AlertController) {\n               }\n\n  ngOnInit() { \n    this.getAllevent();\n  }\n\n\n  getAllevent(){\n      this.eventService.getAllEvent().subscribe(\n        res => {\n          console.log(res);\n          this.allEvent = res['event'];\n          this.loading = false;\n        },\n        err => {\n          this.loading = false;\n          this.userService.longToast(err.error.msg)\n          \n\n          console.log('error getting event', err);\n        }\n      );\n  }\n\n  copyInputMessage(inputElement){\n    inputElement.select();\n    document.execCommand('copy');\n    inputElement.setSelectionRange(0, 0);\n    this.logicService.presentToast('text  coppied' );\n  }\n\n\n  insideEvent(event){\n    switch (event.type) {\n      case 'VOTING':\n        this.router.navigate([`/tabs/inside-event`, event._id]);\n        break;\n      case 'TICKETING':\n        this.router.navigate([`/tabs/inside-ticketing`, event._id]);\n        break;\n      case 'FORM-SALES':\n        this.router.navigate([`/tabs/form-sales`, event._id]);\n        break;\n    \n      default:\n        break;\n    }\n    \n  \n  }\n\n\nasync handleDelete(event) {\n  const alert = await this.alertController.create({\n    header: 'Confirm!',\n    message: `Delete <strong>${event.aboutEvent} </strong>!!!`,\n    buttons: [\n      {\n        text: 'Cancel',\n        role: 'cancel',\n        cssClass: 'secondary',\n        handler: () => {\n          console.log('Confirm Cancel: blah');\n        }\n      }, {\n        text: 'Okay',\n        handler: () => {\n          this.loading = true;\n          this.eventService.deleteEvent(event._id).subscribe(\n            res => {\n              this.loading = false;\n              this.userService.generalToast(res['msg'], 2000);\n              this.getAllevent();\n            },\n            err => {\n              this.loading = false;\n              this.userService.generalAlert(err.error.msg);\n            }\n          );\n        }\n      }\n    ]\n  });\n\n  await alert.present();\n}\n\n\n \n\n\n}\n"]}