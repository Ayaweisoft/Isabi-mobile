(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{pTcb:function(e,t,n){"use strict";n.r(t),n.d(t,"EventsPageModule",(function(){return m}));var i=n("SVse"),o=n("s7LF"),c=n("iInd"),r=n("sZkV"),s=n("mrSG"),b=n("8Y7J"),l=n("7LIg"),a=n("UWlR"),d=n("CcaC");function g(e,t){if(1&e){const e=b.Mb();b.Lb(0,"ion-icon",12),b.Tb("click",(function(){b.gc(e);const t=b.Vb().$implicit;return b.Vb().handleDelete(t)})),b.Kb()}}function v(e,t){if(1&e){const e=b.Mb();b.Lb(0,"ion-card",6),b.Jb(1,"img",7),b.Lb(2,"div",8),b.Lb(3,"ion-title",9),b.kc(4),b.Kb(),b.Lb(5,"ion-text"),b.kc(6),b.Kb(),b.Lb(7,"small"),b.kc(8),b.Kb(),b.jc(9,g,1,0,"ion-icon",10),b.Kb(),b.Lb(10,"div",1),b.Lb(11,"ion-button",11),b.Tb("click",(function(){b.gc(e);const n=t.$implicit;return b.Vb().insideEvent(n._id)})),b.kc(12,"ENTER "),b.Kb(),b.Kb(),b.Kb()}if(2&e){const e=t.$implicit,n=b.Vb();b.xb(1),b.bc("src",e.image_url,b.hc),b.xb(3),b.lc(e.eventName),b.xb(2),b.mc("",e.aboutEvent," "),b.xb(2),b.mc("",e.type," "),b.xb(1),b.bc("ngIf","ADMIN"==n.userService.getUserRole())}}function u(e,t){1&e&&(b.Lb(0,"div",13),b.Lb(1,"div",14),b.Lb(2,"div",15),b.Jb(3,"div"),b.Jb(4,"div"),b.Jb(5,"div"),b.Jb(6,"div"),b.Jb(7,"div"),b.Jb(8,"div"),b.Jb(9,"div"),b.Jb(10,"div"),b.Kb(),b.Kb(),b.Kb())}const h=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.router=e,this.gameService=t,this.eventService=n,this.userService=i,this.alertController=o,this.allEvent=[],this.loading=!0}ngOnInit(){this.getAllevent()}getAllevent(){this.eventService.getAllEvent().subscribe(e=>{console.log(e),this.allEvent=e.event,this.loading=!1},e=>{this.loading=!1,this.userService.longToast(e.error.msg),console.log("error getting event",e)})}insideEvent(e){this.router.navigate(["/tabs/inside-event",e])}handleDelete(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"Confirm!",message:`Delete <strong>${e.aboutEvent} </strong>!!!`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Okay",handler:()=>{this.loading=!0,this.eventService.deleteEvent(e._id).subscribe(e=>{this.loading=!1,this.userService.generalToast(e.msg,2e3),this.getAllevent()},e=>{this.loading=!1,this.userService.generalAlert(e.error.msg)})}}]});yield t.present()}))}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(c.g),b.Ib(l.a),b.Ib(a.a),b.Ib(d.a),b.Ib(r.a))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-events"]],decls:12,vars:2,consts:[["slot","start"],[1,"row","d-flex","justify-content-center"],["src","assets/img/ISABI LOGO GREEN.png",1,"rounded-top"],["size-xs","12","size-sm","12","size-md","8","offset-md","2","size-lg","6","offset-lg","3"],["color","light",4,"ngFor","ngForOf"],["class"," ",4,"ngIf"],["color","light"],[3,"src"],[1,"ion-text-center"],["mode","md",1,"text-uppercase","font-weight-bold"],["name","trash",3,"click",4,"ngIf"],[3,"click"],["name","trash",3,"click"],[1,""],[1,"toast-container"],[1,"lds-roller"]],template:function(e,t){1&e&&(b.Lb(0,"ion-header"),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-buttons",0),b.Jb(3,"ion-menu-button"),b.Kb(),b.Lb(4,"div",1),b.Jb(5,"img",2),b.Kb(),b.Kb(),b.Kb(),b.Lb(6,"ion-content"),b.Lb(7,"ion-grid"),b.Lb(8,"ion-row"),b.Lb(9,"ion-col",3),b.jc(10,v,13,5,"ion-card",4),b.Kb(),b.Kb(),b.Kb(),b.jc(11,u,11,0,"div",5),b.Kb()),2&e&&(b.xb(10),b.bc("ngForOf",t.allEvent),b.xb(1),b.bc("ngIf",t.loading))},directives:[r.v,r.bb,r.i,r.F,r.r,r.u,r.L,r.q,i.l,i.m,r.j,r.Z,r.X,r.h,r.w],styles:["ion-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:30px;padding:5px 0}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90%;width:100%;-o-object-fit:fill;object-fit:fill}ion-card[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:.8rem;margin-top:8px}ion-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-color:rgba(0,0,0,.7);padding:10px;border-radius:50%;color:red}ion-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:10px}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[i.b,o.c,r.cb,c.k.forChild(h)]]}),e})()}}]);