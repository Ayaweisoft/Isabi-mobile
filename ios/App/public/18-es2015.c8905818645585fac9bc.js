(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{pTcb:function(t,e,n){"use strict";n.r(e),n.d(e,"EventsPageModule",(function(){return m}));var i=n("SVse"),o=n("s7LF"),c=n("iInd"),r=n("sZkV"),s=n("mrSG"),b=n("8Y7J"),l=n("7LIg"),a=n("UWlR"),d=n("CcaC");function g(t,e){if(1&t){const t=b.Mb();b.Lb(0,"ion-icon",12),b.Tb("click",(function(){b.gc(t);const e=b.Vb().$implicit;return b.Vb().handleDelete(e)})),b.Kb()}}function v(t,e){if(1&t){const t=b.Mb();b.Lb(0,"ion-card",6),b.Jb(1,"img",7),b.Lb(2,"div",8),b.Lb(3,"ion-title",9),b.lc(4),b.Kb(),b.Lb(5,"ion-text"),b.lc(6),b.Kb(),b.Lb(7,"small"),b.lc(8),b.Kb(),b.kc(9,g,1,0,"ion-icon",10),b.Kb(),b.Lb(10,"div",1),b.Lb(11,"ion-button",11),b.Tb("click",(function(){b.gc(t);const n=e.$implicit;return b.Vb().insideEvent(n._id)})),b.lc(12,"ENTER "),b.Kb(),b.Kb(),b.Kb()}if(2&t){const t=e.$implicit,n=b.Vb();b.yb(1),b.bc("src",t.image_url,b.hc),b.yb(3),b.mc(t.eventName),b.yb(2),b.nc("",t.aboutEvent," "),b.yb(2),b.nc("",t.type," "),b.yb(1),b.bc("ngIf","ADMIN"==n.userService.getRole())}}function h(t,e){1&t&&(b.Lb(0,"div",13),b.Lb(1,"div",14),b.Lb(2,"div",15),b.Jb(3,"div"),b.Jb(4,"div"),b.Jb(5,"div"),b.Jb(6,"div"),b.Jb(7,"div"),b.Jb(8,"div"),b.Jb(9,"div"),b.Jb(10,"div"),b.Kb(),b.Kb(),b.Kb())}const u=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.gameService=e,this.eventService=n,this.userService=i,this.alertController=o,this.allEvent=[],this.loading=!0}ngOnInit(){this.getAllevent()}getAllevent(){this.eventService.getAllEvent().subscribe(t=>{console.log(t),this.allEvent=t.event,this.loading=!1},t=>{this.loading=!1,this.userService.longToast(t.error.msg),console.log("error getting event",t)})}insideEvent(t){this.router.navigate(["/tabs/inside-event",t])}handleDelete(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Confirm!",message:`Delete <strong>${t.aboutEvent} </strong>!!!`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Okay",handler:()=>{this.loading=!0,this.eventService.deleteEvent(t._id).subscribe(t=>{this.loading=!1,this.userService.generalToast(t.msg,2e3),this.getAllevent()},t=>{this.loading=!1,this.userService.generalAlert(t.error.msg)})}}]});yield e.present()}))}}return t.\u0275fac=function(e){return new(e||t)(b.Ib(c.g),b.Ib(l.a),b.Ib(a.a),b.Ib(d.a),b.Ib(r.a))},t.\u0275cmp=b.Cb({type:t,selectors:[["app-events"]],decls:12,vars:2,consts:[["slot","start"],[1,"row","d-flex","justify-content-center"],["src","assets/img/ISABI LOGO GREEN.png",1,"rounded-top"],["size-xs","12","size-sm","12","size-md","8","offset-md","2","size-lg","6","offset-lg","3"],["color","light",4,"ngFor","ngForOf"],["class"," ",4,"ngIf"],["color","light"],[3,"src"],[1,"ion-text-center"],["mode","md",1,"text-uppercase","font-weight-bold"],["name","trash",3,"click",4,"ngIf"],[3,"click"],["name","trash",3,"click"],[1,""],[1,"toast-container"],[1,"lds-roller"]],template:function(t,e){1&t&&(b.Lb(0,"ion-header"),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-buttons",0),b.Jb(3,"ion-menu-button"),b.Kb(),b.Lb(4,"div",1),b.Jb(5,"img",2),b.Kb(),b.Kb(),b.Kb(),b.Lb(6,"ion-content"),b.Lb(7,"ion-grid"),b.Lb(8,"ion-row"),b.Lb(9,"ion-col",3),b.kc(10,v,13,5,"ion-card",4),b.Kb(),b.Kb(),b.Kb(),b.kc(11,h,11,0,"div",5),b.Kb()),2&t&&(b.yb(10),b.bc("ngForOf",e.allEvent),b.yb(1),b.bc("ngIf",e.loading))},directives:[r.w,r.cb,r.i,r.G,r.r,r.v,r.M,r.q,i.l,i.m,r.j,r.ab,r.Y,r.h,r.x],styles:["ion-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:30px;padding:5px 0}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90%;width:100%;-o-object-fit:fill;object-fit:fill}ion-card[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:.8rem;margin-top:8px}ion-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-color:rgba(0,0,0,.7);padding:10px;border-radius:50%;color:red}ion-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:10px}"]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(e){return new(e||t)},imports:[[i.b,o.c,r.db,c.k.forChild(u)]]}),t})()}}]);