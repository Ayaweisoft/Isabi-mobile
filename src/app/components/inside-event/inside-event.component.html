<ion-content>
  <div class="main-content">
    <div class="voting-container">

      <!-- head section -->
      <div class="head-section voting-head-section">
        <div class="header">
          <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>
          <div class="logo" slot="end">
          </div>
        </div>
      </div>
      
      <div class="voting-section" *ngIf="!loading">  
        <h2 class="head-title">Event Details</h2>
        <div class="event-desc">
          <h2 class="event-name">{{ event?.eventName }}</h2>
          <div class="event-img">
            <img src={{event?.image_url}} alt="event image">
          </div>
          <h2 class="event-about-heading">About Event</h2>
          <p class="event-about">{{ event?.aboutEvent }}</p>
          <div class="event-rating">
            <span class="event-rating-star">
              <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M9.39503 13.3879L14.0774 16.214L12.8348 10.8876L16.9717 7.30387L11.5241 6.84169L9.39503 1.81836L7.26598 6.84169L1.81836 7.30387L5.95522 10.8876L4.71265 16.214L9.39503 13.3879Z"
                  fill="#FFC635" />
              </svg>
            </span>
            <span class="event-rating-star">
              <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M9.39503 13.3879L14.0774 16.214L12.8348 10.8876L16.9717 7.30387L11.5241 6.84169L9.39503 1.81836L7.26598 6.84169L1.81836 7.30387L5.95522 10.8876L4.71265 16.214L9.39503 13.3879Z"
                  fill="#FFC635" />
              </svg>
            </span>
            <span class="event-rating-star">
              <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M9.39503 13.3879L14.0774 16.214L12.8348 10.8876L16.9717 7.30387L11.5241 6.84169L9.39503 1.81836L7.26598 6.84169L1.81836 7.30387L5.95522 10.8876L4.71265 16.214L9.39503 13.3879Z"
                  fill="#FFC635" />
              </svg>
            </span>
          </div>
          <div class="event-location-desc">
            <div class="event-location">
              <span class="icon">
                <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6.99967 9.00033C7.45801 9.00033 7.85051 8.83699 8.17717 8.51032C8.50329 8.18421 8.66634 7.79199 8.66634 7.33366C8.66634 6.87533 8.50329 6.48283 8.17717 6.15616C7.85051 5.83005 7.45801 5.66699 6.99967 5.66699C6.54134 5.66699 6.14912 5.83005 5.82301 6.15616C5.49634 6.48283 5.33301 6.87533 5.33301 7.33366C5.33301 7.79199 5.49634 8.18421 5.82301 8.51032C6.14912 8.83699 6.54134 9.00033 6.99967 9.00033ZM6.99967 17.0212C6.88856 17.0212 6.77745 17.0003 6.66634 16.9587C6.55523 16.917 6.45801 16.8614 6.37467 16.792C4.3469 15.0003 2.83301 13.3373 1.83301 11.8028C0.833008 10.2678 0.333008 8.83366 0.333008 7.50033C0.333008 5.41699 1.00329 3.75727 2.34384 2.52116C3.68384 1.28505 5.23579 0.666992 6.99967 0.666992C8.76356 0.666992 10.3155 1.28505 11.6555 2.52116C12.9961 3.75727 13.6663 5.41699 13.6663 7.50033C13.6663 8.83366 13.1663 10.2678 12.1663 11.8028C11.1663 13.3373 9.65245 15.0003 7.62467 16.792C7.54134 16.8614 7.44412 16.917 7.33301 16.9587C7.2219 17.0003 7.11079 17.0212 6.99967 17.0212Z" fill="black"/>
                </svg>
              </span>
              <p>{{ event?.venue }}</p>               
            </div>
            <div class="event-location">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1.66699 15.8337C1.66699 17.2503 2.75033 18.3337 4.16699 18.3337H15.8337C17.2503 18.3337 18.3337 17.2503 18.3337 15.8337V9.16699H1.66699V15.8337ZM15.8337 3.33366H14.167V2.50033C14.167 2.00033 13.8337 1.66699 13.3337 1.66699C12.8337 1.66699 12.5003 2.00033 12.5003 2.50033V3.33366H7.50033V2.50033C7.50033 2.00033 7.16699 1.66699 6.66699 1.66699C6.16699 1.66699 5.83366 2.00033 5.83366 2.50033V3.33366H4.16699C2.75033 3.33366 1.66699 4.41699 1.66699 5.83366V7.50033H18.3337V5.83366C18.3337 4.41699 17.2503 3.33366 15.8337 3.33366Z" fill="black"/>
                </svg>                
              </span>
              <p>
                {{months[date?.getMonth()]}} {{date?.getDate()}}, {{date?.getFullYear()}}
              </p>               
            </div>
            <div class="event-location">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10.0003 1.66699C8.90598 1.66699 7.82234 1.88254 6.8113 2.30133C5.80025 2.72012 4.88159 3.33395 4.10777 4.10777C2.54497 5.67057 1.66699 7.79019 1.66699 10.0003C1.66699 12.2105 2.54497 14.3301 4.10777 15.8929C4.88159 16.6667 5.80025 17.2805 6.8113 17.6993C7.82234 18.1181 8.90598 18.3337 10.0003 18.3337C12.2105 18.3337 14.3301 17.4557 15.8929 15.8929C17.4557 14.3301 18.3337 12.2105 18.3337 10.0003C18.3337 8.90598 18.1181 7.82234 17.6993 6.8113C17.2805 5.80025 16.6667 4.88159 15.8929 4.10777C15.1191 3.33395 14.2004 2.72012 13.1894 2.30133C12.1783 1.88254 11.0947 1.66699 10.0003 1.66699ZM13.5003 13.5003L9.16699 10.8337V5.83366H10.417V10.167L14.167 12.417L13.5003 13.5003Z" fill="black"/>
                </svg>
              </span>              
              <p>
                {{event?.startTime}}
              </p>               
            </div>
          </div>
        </div>
        <h2 class="voting-title">Contestants</h2>
        <!-- <searchbar [allItems]="c  ontestant" (displayedItems)="getChildData($event)"></searchbar>  -->
        <div class="voting-segment">
          <div class="voting-card" *ngFor="let item of contestant">
            <div class="voting-card-pic">
              <img [src]="item.image_url">
            </div>
            <div class="voting-card-name">
              <small class="fullname">00{{item.my_code }} {{ parseText(item.fullname) }}</small>
              <div class="nickname">{{item.nickname}}</div>
            </div>
            <div class="voting-card-bottom">
              <div class="voting-card-bottom-votes">
                {{item.vote_count | number}} vote(s)
              </div>
              <div class="voting-card-bottom-button">
                <button (click)="voteNow(item.event_id,item._id,item.image_url,
                item.nickname,item.my_code, item.fullname)">
                  Vote Now
                </button>
              </div>
              <div *ngIf="userService.getRole() == 'ADMIN'" class="ion-text-center">
                <input readonly type="text" [value]="personalLink + item._id" #userinput size="35">
                <ion-button color="dark" size="small" (click)="copyInputMessage(userinput)" value="click to copy">Copy
                </ion-button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

<!-- Segment with anchors -->
  <!-- loader -->
  <div *ngIf="loading" class="">
    <div class="toast-container ">
      <div class="lds-roller">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </div>
</ion-content>
<!-- <ion-content>

  <ion-refresher #refresherRef (ionRefresh)="doRefresh($event)" slot="fixed">
    <ion-refresher-content>
    </ion-refresher-content>
  </ion-refresher>


  <ion-fab *ngIf="userService.getRole() == 'ADMIN'" (click)="addUser()" vertical="top" horizontal="end" slot="fixed">
    <ion-fab-button color="success">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-title mode="md" class="text-center text-uppercase ion-margin-top">CONTESTANTS</ion-title>

  <ion-row>
    <ion-col size-xs="12" size-sm="12" size-md="6" offset-md="3" size-lg="12" offset-lg="3">
      <ion-searchbar type="text" [(ngModel)]="searchModel.name" name="search" debounce="500" (ionChange)="getItems()">
      </ion-searchbar>
    </ion-col>
  </ion-row>

  <ion-grid>
    <ion-row>
      <ion-col size="6" size-lg="3" size-md="4" size-xs="6" size-sm="6" size-xl="3" *ngFor="let item of contestant"
        index as i>
        <ion-card class="pb-2 text-center font-weight-bold ion-no-margin">
          <ion-icon *ngIf="userService.getRole() == 'ADMIN'" (click)="deleteContestant(item)" name="trash"></ion-icon>
          <img [src]="item.image_url">

          <small> 00{{item.my_code}} </small>
          <small> {{item.fullname}} </small>
          <div> {{item.nickname}} </div>

          <div>
            <ion-label> <strong>{{item.vote_count | number}} vote(s) </strong></ion-label>
            <ion-button (click)="voteNow(item.event_id,item._id,item.image_url,
            item.nickname,item.my_code, item.fullname)" size="small" color="primary">vote now</ion-button>
          </div>

          <div *ngIf="userService.getRole() == 'ADMIN'" class="ion-text-center">
            <input readonly type="text" [value]="personalLink +'/'+'web-voting/'+ item._id " #userinput size="35">
            <ion-button color="dark" size="small" (click)="copyInputMessage(userinput)" value="click to copy">Copy
            </ion-button>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

 
</ion-content> -->