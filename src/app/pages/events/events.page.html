<!-- <app-header></app-header> -->
<div class="header" [class.headerIsActive]="headerIsActive">
  <ion-buttons slot="start">
    <ion-menu-button></ion-menu-button>
  </ion-buttons>

  <profile-photo [className]="'profile-header'"></profile-photo>
</div>
<ion-content class="main-content">
  <div class="head-section">
    <countdown-timer [userCount]="userCount"></countdown-timer>
    <!-- <p>{{userCount}} {{userCount > 1 ? 'users' : 'user'}} online</p> -->
    <clue-tips></clue-tips>
  </div>
  <div class="curved-section event-section">
    <h2>Events</h2>
    <searchbar
      [allItems]="allEvent"
      (displayedItems)="getChildData($event)"
    ></searchbar>

    <!-- loader -->
    <div *ngIf="loading" class="loading">
      <div *ngFor="let card of loadingCards" class="loading-card">
        <div class="loading-top">
          <div class="loading-pics">
            <div class="loading-pic"></div>
          </div>
          <div class="loading-desc">
            <div class="loading-name"></div>
            <div class="loading-details"></div>
            <div class="loading-type"></div>
          </div>
        </div>
        <div class="loading-bottom">
          <div class="loading-icons"></div>
          <div class="loading-button"></div>
        </div>
      </div>
    </div>
    <div class="event-cards" *ngIf="!loading">
      <div class="event-card" *ngFor="let item of displayedEvents">
        <div class="event-top">
          <div class="event-pics">
            <img class="event-pic" [src]="item.image_url" />
          </div>
          <div class="event-desc">
            <h3>{{item.eventName}}</h3>
            <p>{{parseText(item.aboutEvent)}}</p>
            <div class="stars"></div>
            <p>type: {{item.type}}</p>
          </div>
        </div>
        <div class="event-bottom">
          <div class="event-icons">
            <p><span class="event-votes">186</span>voted</p>
          </div>
          <div class="event-button-div">
            <button class="event-button" (click)="insideEvent(item)">
              Buy ticket
            </button>
          </div>
        </div>
      </div>
      <div class="shadow-event-card" *ngFor="let item of shadowEvents">
        <h3>{{item.eventName}}</h3>
      </div>
    </div>
    <div class="noEvents" class="!loading" *ngIf="!displayedEvents.length > 0">
      <p>No events found...</p>
    </div>
  </div>
  <div class="welcome-modal-content" *ngIf="isFirst">
    <about-popup></about-popup>
  </div>
</ion-content>
