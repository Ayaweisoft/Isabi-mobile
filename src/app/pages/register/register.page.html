<ion-content>
  <div class="main-content">
    <div class="illustration-section">
      <div class="avatar-frame">
        <img src="../../../assets/figma/Main.png" alt="User Avatar" class="user-avatar" />
      </div>
      <h2>Create Account</h2>
    </div>

    <div class="main-form-section">
      <div class="form-scroll-container"> 
        <form class="create-account-form" #signUpForm="ngForm" name="signUpForm" (ngSubmit)="register()"
          autocomplete="off">
          
          <div class="input-group">
            <label class="input-label" for="fullname">Full Name</label>
            <input type="text" id="fullname" name="fullname" [(ngModel)]="model.fullname" required
              placeholder="Godgift Aroh" />
          </div>

          <div class="input-group">
            <label class="input-label" for="email">Email</label>
            <input type="email" id="email" name="email" [(ngModel)]="model.email" required
              placeholder="godgiftaroh@gmail.com" />
          </div>

          <div class="input-group">
            <label class="input-label" for="phone">Phone Number</label>
            <input type="tel" id="phone" name="number" [(ngModel)]="model.number" required minlength="11"
              [pattern]="phoneRegex" placeholder="08123456789" />
          </div>

          <div class="input-group">
            <label class="input-label" for="username">Username</label>
            <input type="text" id="username" name="username" [(ngModel)]="model.username" required
              placeholder="Enter Username" autocomplete="off" />
          </div>

          <div class="input-group">
            <label class="input-label" for="birthday">Date of Birth</label>
            <input type="date" id="birthday" name="birthday" [(ngModel)]="model.birthday" />
          </div>

          <div class="input-group">
            <label class="input-label" for="nationality">Nationality</label>
            <select id="nationality" name="nationality" [(ngModel)]="model.nationality">
              <option value="">Select Nationality</option>
              <option value="Afganistan">Afghanistan</option>
              <option value="Albania">Albania</option>
              <option value="Nigeria">Nigeria</option>
              <option value="United States of America">United States of America</option>
            </select>
          </div>

          <div class="input-group">
            <label class="input-label" for="password">Password</label>
            <div class="password-input-container">
              <input [type]="passwordType" id="password" name="password" [(ngModel)]="model.password" required
                minlength="6" placeholder="********" />
              <ion-icon [name]="passwordIcon" class="password-toggle" (click)="togglePasswordVisibility()"></ion-icon>
            </div>
          </div>

          <div class="input-group">
            <label class="input-label" for="conf_password">Confirm Password</label>
            <div class="password-input-container">
              <input [type]="confirmPasswordType" id="conf_password" name="conf_password"
                [(ngModel)]="model.conf_password" required minlength="6" placeholder="Confirm Password" />
              <ion-icon [name]="confirmPasswordIcon" class="password-toggle"
                (click)="toggleConfirmPasswordVisibility()"></ion-icon>
            </div>
            <div *ngIf="model.password !== model.conf_password" class="error-message">
              <small class="text-danger">Passwords do not match</small>
            </div>
          </div>

          <div class="input-group">
            <label class="input-label" for="referrer">Referrer (Optional)</label>
            <input type="text" id="referrer" name="referrer" [(ngModel)]="model.referrer"
              placeholder="{{ ref?.referralCode || 'Enter referral code' }}" [disabled]="isReferralCode">
          </div>

          <p class="privacy-text">Privacy Policy, Terms And Conditions</p>

          <button type="submit" class="sign-up-btn"
            [disabled]="!signUpForm.valid || model.password !== model.conf_password">
            Sign Up
          </button>
        </form>

        <p class="login-link">
          Already have an Account.
          <a [routerLink]="['/login']">Sign In</a>
        </p>
      </div>
    </div>
  </div>
</ion-content>