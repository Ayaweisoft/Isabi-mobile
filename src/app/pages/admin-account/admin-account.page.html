<ion-header>
  <ion-toolbar>
    
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons> <div class="row d-flex justify-content-center">
      <img class="rounded-top"  src="../../../assets/icon/Logoicon.png">
    </div> 
  </ion-toolbar>
</ion-header>


<ion-segment scrollable="true" value="app_date" (ionChange)="segmentChanged($event)">
  <ion-segment-button value="app_date">
    <ion-icon name="calendar"></ion-icon>
    <ion-label>App date</ion-label>
  </ion-segment-button>
  <ion-segment-button value="sms">
    <ion-icon name="mail"></ion-icon>
    <ion-label>Sms</ion-label>
  </ion-segment-button>
  <ion-segment-button value="video_link">
    <ion-icon name="play"></ion-icon>
        <ion-label>Video link</ion-label>
  </ion-segment-button>
  <ion-segment-button [routerLink]="['/tabs/admin-event']"  value="create_event">
    <ion-icon name="information-circle"></ion-icon>
        <ion-label>Event</ion-label>
  </ion-segment-button>
  <ion-segment-button value="game_amount">
    <ion-icon name="game-controller"></ion-icon>
        <ion-label>Amount</ion-label>
  </ion-segment-button>
  <ion-segment-button value="promo_code">
    <ion-icon name="cash"></ion-icon>
        <ion-label>Promo</ion-label>
  </ion-segment-button>
</ion-segment>

<ion-content>



  <!-- [routerLink]="['/tabs/admin-event']" -->

    <br>
    <ion-badge class="text-center">{{gameService.applicationDate}} </ion-badge>
    
    <div *ngIf=" segment ==='app_date'" style="background-color: darkgreen; border: 3px black;" class="p-5 ">
      <form #dateform name="dateform" (submit)="submitDate(dateform)">
        <ion-item>
            <ion-label  class="ml-3"  
             position="floating">enter date in format</ion-label>
          <ion-input #setdate name="setdate" [(ngModel)]="model.date" placeholder="jan 5, 2019 06:00:00"></ion-input>
         </ion-item>
         <ion-button type="submit"> <ion-icon name="checkmark" size="large"></ion-icon> </ion-button>
        </form>

         <!-- <p class="text-white text-center font-weight-bold">jan 5, 2019 06:00:00</p> -->
         <ion-button size="large" [disabled]="!setdate.value"
          (click)="activateDate()">ACTIVATE </ion-button>
    </div>


    <!-- video form -->
    <div *ngIf=" segment === 'video_link'">
    <form #youtubeform name="youtubeform" (submit)="submityoutubeLink(youtubeform)">
      <ion-item>
          <ion-label  class="ml-3"  
           position="floating">enter date in format</ion-label>
        <ion-input #youtubeUrl name="youtubeUrl" [(ngModel)]="model.youtubeUrl" placeholder="https://....."></ion-input>
       </ion-item>
       <ion-button type="submit"> submit youtube link </ion-button>
      </form>
    </div>
      <!-- end video form -->

      <!-- sms section -->
      <div *ngIf=" segment === 'sms'" style="padding-top: 40px;">
        <form #smsform id="smsform" name="youtubeform" (submit)="submitSms(smsform)">
          <ion-item >
            <textarea rows="5" cols="40" placeholder="Enter sms here..." #sms name="sms" [(ngModel)]="model.sms" placeholder="Enter sms here" ></textarea>
           </ion-item>
           <ion-button type="submit" [disabled]="!sms.value"> SEND</ion-button>
          </form>
        </div>
        <!-- end sms section -->

        <div *ngIf="segment === 'game_amount'">

          <h3>Amount : {{currentAmount | currency:'â‚¦'}} </h3>
          <ion-card color="success"> 
            <ion-item class="p-5">
              <ion-label position="floating" >Game session amount</ion-label>
              <ion-input  [(ngModel)]="amountModel.amount" type="number" ></ion-input>
            </ion-item>

            <div class="ion-text-center">
              <ion-button [disabled]="!amountModel.amount" (click)="submitGameAmount()">
                Submit
              </ion-button>
            </div>
          </ion-card>
        </div>

        <!--  proo code -->
        <div *ngIf="segment === 'promo_code'">

          <ion-grid fixed>
            <ion-row>
              <ion-col size="10" offset="1">

                <ion-card color="success"> 
                  <ion-item class="p-1">
                    <ion-label position="floating" > amount</ion-label>
                    <ion-input  [(ngModel)]="promoCode.amount" type="number" ></ion-input>
                  </ion-item>
                  <ion-item class="p-1">
                    <ion-label position="floating" > code</ion-label>
                    <ion-input  [(ngModel)]="promoCode.promoCode" type="text" ></ion-input>
                  </ion-item>
                  <ion-item class="p-1">
                    <ion-label position="floating" > slot</ion-label>
                    <ion-input  [(ngModel)]="promoCode.promoSlot" type="number" ></ion-input>
                  </ion-item>
                  <!-- <ion-item class="p-1">
                    <ion-label position="floating" > code </ion-label>
                    <ion-input  [(ngModel)]="promoCode.promoCode" type="number" ></ion-input>
                 
                  </ion-item> -->
                  <ion-item>
                    <ion-label>start </ion-label>
                    <ion-input  [(ngModel)]="promoCode.startDate" type="date" ></ion-input>
                  </ion-item>
                  <ion-item>
                    <ion-label>end </ion-label>
                    <ion-input  [(ngModel)]="promoCode.endDate" type="date" ></ion-input>
                  </ion-item>
      
                  <div class="ion-text-center">
                    <ion-button [disabled]="!promoCode.promoCode" (click)="submitPromo()">
                      Submit
                    </ion-button>
                  </div>
                </ion-card>

              </ion-col>
            </ion-row>
          </ion-grid>
        
        </div>
       

    <div *ngIf="loading">
      <ion-spinner slot="middle"></ion-spinner>
      <ion-progress-bar type="indeterminate"></ion-progress-bar>
      <p class="p-5 bg-dark text-white">loading </p>
    </div>




</ion-content>